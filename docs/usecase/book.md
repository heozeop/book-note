# 도서 검색 및 등록 기능 명세서

## 개요

BookNote 애플리케이션의 핵심 기능인 도서 검색 및 등록 기능에 대한 상세 명세입니다. 이 기능들은 사용자가 자신의 독서 활동을 시작하는 첫 단계로, 직관적이고 효율적인 사용자 경험을 제공합니다.

## 1. 도서 검색 기능

### 목적

사용자가 읽고 있거나 읽을 예정인 책을 쉽고 정확하게 찾을 수 있도록 합니다. 도서의 메타데이터(제목, 저자, 출판사 등)를 자동으로 불러와 사용자의 입력 부담을 줄이고 정확한 도서 정보를 확보합니다.

### 주요 기능

#### 1.1 키워드 검색

- **설명**: 사용자가 책 제목, 저자, 출판사 등의 키워드로 도서를 검색할 수 있습니다.
- **기능 상세**:
  - 실시간 검색 결과 표시 (입력 즉시 결과 업데이트)
  - 관련도 순 정렬 기본 제공
  - 최대 100개까지 검색 결과 페이징 지원
  - 출판일, 관련도 등 정렬 옵션 제공

#### 1.2 ISBN 검색

- **설명**: ISBN 코드를 통해 정확한 도서 정보를 검색할 수 있습니다.
- **기능 상세**:
  - ISBN-10, ISBN-13 형식 모두 지원
  - 하이픈(-) 포함/미포함 형식 모두 지원
  - 바코드 스캔 기능을 통한 간편 입력 지원 (모바일 앱)

#### 1.3 검색 결과 표시

- **설명**: 검색 결과는 도서의 기본 정보와 함께 시각적으로 명확하게 표시됩니다.
- **표시 정보**:
  - 도서 표지 이미지
  - 제목 및 부제목
  - 저자
  - 출판사
  - 출판일
  - 간략한 설명
  - 가격 정보

#### 1.4 고급 검색 필터

- **설명**: 검색 결과를 더 정확하게 필터링할 수 있는 옵션을 제공합니다.
- **필터 옵션**:
  - 출판 연도 범위
  - 출판사
  - 저자
  - 장르/카테고리

### 사용자 경험

1. 사용자는 홈 화면 또는 서재 화면에서 '책 검색' 기능에 접근합니다.
2. 검색창에 키워드를 입력하거나 ISBN을 스캔합니다.
3. 검색 결과가 카드 형태로 표시되며, 무한 스크롤로 더 많은 결과를 확인할 수 있습니다.
4. 결과 중 원하는 책을 선택하여 상세 정보를 확인하거나 바로 서재에 추가할 수 있습니다.
5. 검색 결과가 없거나 원하는 책이 없는 경우, 수동으로 도서 정보를 입력할 수 있는 옵션이 제공됩니다.

## 2. 도서 등록 기능

### 목적

검색한 도서를 사용자의 개인 서재에 추가하고, 독서 상태를 관리할 수 있게 합니다. 책과 사용자 사이의 관계를 설정하는 기능으로, 독서 기록을 시작하기 위한 첫 단계입니다.

### 주요 기능

#### 2.1 검색 결과에서 등록

- **설명**: 도서 검색 결과에서 바로 서재에 책을 추가할 수 있습니다.
- **기능 상세**:
  - 검색 결과 항목의 '서재에 추가' 버튼을 통한 간편 등록
  - 추가 시 초기 독서 상태 설정 가능 (읽고 싶은 책, 읽는 중, 완독)
  - 중복 등록 방지 (이미 서재에 있는 책인 경우 알림)

#### 2.2 수동 등록

- **설명**: 검색 결과에 원하는 책이 없는 경우, 사용자가 직접 정보를 입력하여 등록할 수 있습니다.
- **입력 필드**:
  - 제목 (필수)
  - 저자 (선택)
  - 출판사 (선택)
  - ISBN (선택)
  - 출판일 (선택)
  - 표지 이미지 URL (선택)
  - 설명 (선택)
  - 페이지 수 (선택)

#### 2.3 독서 상태 설정

- **설명**: 책 등록 시 또는 등록 후 독서 상태를 설정할 수 있습니다.
- **상태 옵션**:
  - **읽고 싶은 책**: 아직 읽지 않았지만 관심 있는 책
  - **읽는 중**: 현재 읽고 있는 책
  - **완독**: 다 읽은 책
  - **중단**: 읽다가 중단한 책
  - **재독 중**: n회 재독서 중인 책

#### 2.4 컬렉션 및 태그 지정

- **설명**: 등록한 책을 컬렉션에 추가하거나 태그를 지정할 수 있습니다.
- **기능 상세**:
  - 기존 컬렉션에 추가 또는 새 컬렉션 생성
  - 다중 태그 지정 가능
  - 자동완성을 통한 기존 태그 재사용

#### 2.5 개인 메모 추가

- **설명**: 책에 대한 간단한 메모나 노트를 추가할 수 있습니다.
- **기능 상세**:
  - 책에 대한 개인적인 생각, 메모 등을 기록
  - 마크다운 형식 지원
  - 비공개/공개 설정 가능

### 사용자 경험

1. 사용자는 검색 결과에서 책을 선택하거나 직접 정보를 입력하여 등록을 시작합니다.
2. 등록 과정에서 독서 상태, 컬렉션, 태그, 개인 메모 등을 선택적으로 설정할 수 있습니다.
3. '등록' 버튼을 누르면 책이 사용자의 서재에 추가됩니다.
4. 등록 직후 성공 메시지가 표시되며, 바로 해당 책의 상세 페이지로 이동하거나 노트 작성을 시작할 수 있는 옵션이 제공됩니다.
5. 이미 등록된 책인 경우, 중복 알림과 함께 기존 등록 정보로 이동할 수 있는 링크가 제공됩니다.

## 3. 노트 작성 기능

### 목적

사용자가 독서 중 발견한 인사이트, 감상, 중요 구절 등을 기록할 수 있도록 합니다. 플랫폼에 따라 최적화된 입력 방식을 제공하여 사용자 경험을 향상시킵니다.

### 주요 기능

#### 3.1 플랫폼별 최적화된 입력 방식

- **모바일 (태블릿) 환경**:
  - **펜 입력 지원**: 디지털 펜을 사용한 필기 방식의 노트 작성
  - **스트로크 데이터 저장**: 펜의 모든 움직임과 압력 데이터를 벡터 형식으로 저장
  - **손글씨 인식**: 필요 시 손글씨를 텍스트로 변환할 수 있는 옵션 제공
  - **멀티 컬러 지원**: 다양한 색상의 펜 선택 가능
  - **펜 굵기 조절**: 필기 스타일에 맞는 펜 굵기 설정

- **웹 환경**:
  - **텍스트 에디터**: 풍부한 서식 옵션을 제공하는 텍스트 기반 노트 작성
  - **마크다운 지원**: 마크다운 문법을 활용한 효율적인 서식 적용
  - **키보드 단축키**: 빠른 편집을 위한 다양한 키보드 단축키 제공
  - **자동 저장**: 작성 중인 내용 자동 저장
  - **이미지 삽입**: 텍스트와 함께 이미지 첨부 가능

#### 3.2 크로스 플랫폼 동기화

- **설명**: 모바일에서 작성한 필기 노트와 웹에서 작성한 텍스트 노트가 완벽하게 동기화됩니다.
- **기능 상세**:
  - 모바일에서 작성한 스트로크 데이터는 웹에서 이미지 형태로 확인 가능
  - 웹에서 작성한 텍스트는 모바일에서도 동일하게 표시
  - 모든 기기에서 노트에 대한 수정, 삭제 등의 조작 가능
  - 실시간 변경사항 반영

#### 3.3 페이지 단위 노트 관리

- **설명**: 책의 특정 페이지에 대한 노트를 체계적으로 관리할 수 있습니다.
- **기능 상세**:
  - 페이지 번호 기반 노트 정리
  - 페이지별 여러 개의 노트 작성 가능
  - 챕터 또는 섹션별 노트 그룹화 옵션

### 사용자 경험

1. 사용자는 책의 페이지에 접근하여 노트 추가 버튼을 통해 노트 작성을 시작합니다.
2. 모바일 환경에서는 자연스러운 필기 경험을 위한 펜 도구가 제공되고, 웹 환경에서는 효율적인 텍스트 입력을 위한 에디터가 제공됩니다.
3. 노트 작성 후 저장하면 해당 페이지에 노트가 연결되어 표시됩니다.
4. 다른 기기에서 접속해도 동일한 노트 내용을 확인하고 편집할 수 있습니다.

## 데이터 흐름

1. 사용자가 검색어 입력 또는 ISBN 스캔
2. 애플리케이션이 포괄적인 도서 데이터베이스에서 정보 검색
3. 사용자에게 결과 표시 및 선택 유도
4. 선택한 책 정보를 사용자 서재에 저장
5. 사용자와 책 사이의 관계(독서 상태, 메모 등) 설정 및 저장
6. 플랫폼에 따라 스트로크 데이터(모바일) 또는 텍스트 데이터(웹) 생성 및 저장
7. 크로스 플랫폼 동기화를 통한 모든 기기에서의 데이터 접근성 보장

## 기술적 특징

- **실시간 검색**: 타이핑 즉시 결과가 업데이트되는 반응형 검색
- **강력한 데이터베이스**: 수백만 권의 도서 정보가 포함된 종합 도서 데이터베이스 활용
- **이미지 최적화**: 도서 표지 이미지의 효율적인 로딩 및 캐싱
- **벡터 기반 스트로크 저장**: 모바일에서의 펜 입력을 고품질로 저장하기 위한 벡터 데이터 처리
- **텍스트 에디터 최적화**: 웹에서의 빠르고 안정적인 텍스트 입력 및 서식 처리
- **오프라인 지원**: 이전에 검색한 도서는 오프라인 상태에서도 등록 가능
- **데이터 동기화**: 모든 기기 간 서재 정보 및 노트 실시간 동기화

## 제한사항

- 일부 희귀도서나 자가출판 도서는 자동 검색이 어려울 수 있으며, 이 경우 수동 입력 필요
- ISBN 스캔은 모바일 앱에서만 지원 (웹 버전에서는 수동 입력)
- 일부 도서는 표지 이미지가 제공되지 않을 수 있음
- 모바일에서 작성한 손글씨 노트의 텍스트 변환은 언어 및 필체에 따라 정확도가 달라질 수 있음
- 매우 복잡한 스트로크 데이터는 동기화 시 더 많은 시간이 소요될 수 있음

## 향후 개선 계획

- **도서 추천 기능**: 사용자의 독서 취향에 맞는 새로운 도서 추천
- **커뮤니티 통합**: 다른 사용자들의 서재 탐색 및 독서 취향 공유
- **외부 서비스 연동**: Goodreads, 알라딘 등 외부 서비스와의 데이터 연동
- **OCR 기능**: 물리적 책 표지 촬영을 통한 도서 인식 기능 
- **AI 필기 인식 강화**: 더 정확한 손글씨 인식 및 텍스트 변환 기능
- **스트로크 효과 확장**: 다양한 필기 도구 효과(수채화, 마커 등) 추가
- **협업 노트**: 그룹 독서를 위한 공유 노트 기능
